async function pageFunction(context) {\n   const { request, log, jQuery } = context;\n   const { userData, url } = request;\n   const $ = jQuery;\n\n   log.info(`Processing: ${url}`)\n\n   // handeling the pagination\n   if(userData.label === 'START') {\n       const numPages = $('dl.pagination > dd:nth-child(8) > a').text();\n       for (i = 0; i < numPages - 1; i++) {\n           await context.enqueueRequest({\n               url: `https://onlineradiobox.com/genre/pop-/?p=` + i,\n               userData: {\n                   label: 'PAGE'\n               }\n           });\n       }\n   }\n\n   // handeling the detail item links and adding them to the queue\n   if(userData.label === 'START' || userData.label === 'PAGE'){\n\n       const stationsSelector = 'figure.stations__station__title a';\n       if(stationsSelector.length !== 0){\n           const stationUrls = [];\n           $('figure.stations__station__title a').each(function(){\n               const stationLink = $(this).attr('href');\n               stationUrls.push(`https://onlineradiobox.com${stationLink}`)\n           })\n           for(const stationUrl of stationUrls){\n               await context.enqueueRequest({\n                   url: stationUrl ,\n                   userData:{\n                       label: 'ITEM'\n                   }\n               });\n           }\n       }\n   }\n\n   // handeling the detail parsing and storing data to dataset\n   if (userData.label === 'ITEM') {\n       //storing data from the detail URL\n       const title = $('h1.station__title').text();\n       const stationTags = [];\n       $('ul.station__tags a').each(function(){\n           stationTags.push($( this ).text())\n       })\n       const description = $('div.station__description').text()\n       const rating = $('[itemprop=ratingValue]').text()\n       const reviews = $('[itemprop=reviewCount]').text()\n       const stationLinks = [];\n       $('ul.station__reference li').not('li:first').each(function(){\n           stationLinks.push($('a',this).attr('href'))\n       })\n\n       //save these data to the results\n       return ({\n           title,\n           url,\n           stationTags,\n           description,\n           rating,\n           reviews,\n           stationLinks\n\n       })\n   }\n}\n\n",